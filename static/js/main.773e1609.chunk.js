(this["webpackJsonpnested-cells"]=this["webpackJsonpnested-cells"]||[]).push([[0],[,,,,,,,,,,function(e,t,n){e.exports=n(21)},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),l=n.n(a),u=n(9),r=n.n(u),o=(n(15),n(2)),i=n(7),c=n(3),d=n(4),s=n(5),p=n(6),m=n(1),f=n.n(m),v=[{id:"cf1cf9f6-52b6-4108-ad4b-54649c182d7f",category:"Age",value:[{id:"7e76af7b-fd63-45df-a29a-a25fe6eb660e",value:"40+"}]},{id:"ac63c95a-03e6-4f7c-b211-6ad5175a31cb",category:"Ethnicity",value:[{id:"094f5d4b-872b-4e00-830c-69b7dce29105",value:"Black"},{id:"255e4fcd-ed41-4f0b-af81-632a29d6f2a5",value:"Hispanic"}]},{id:"1e4c77c8-b0ce-40d3-9232-779bbe3cecb8",category:"Income yearly",value:[{id:"4f10d4f1-8f27-4bc5-bae9-5d18a90e7c5d",value:"45k USD+"}]}],h=(n(16),function(e){var t=e.parentName,n=e.parentId,a=e.childNodes,u=e.renderCell,r=e.renderButton,o=f()("Tree",{"Tree--main":"main"===n,"Tree--child":"main"!==n,"Tree--empty":0===a.length}),i=f()("Tree__heading",{"Tree__heading--main":"main"===n,"Tree__heading--child":"main"!==n});return l.a.createElement("main",{className:o},l.a.createElement("h2",{className:i},t),a.map((function(e){var t=e.id;return u(t,n)})),r("add",n))}),g=(n(17),function(e){var t=e.id,n=e.parentId,a=e.renderButton,u=e.children,r=f()("Cell",{"Cell--main":"main"===n,"Cell--child":"main"!==n});return l.a.createElement("section",{className:r},u,a("remove",n,t))}),b=(n(18),function(e){var t=e.buttonClass,n=e.onButtonClick,a=e.isDisabled,u=e.children;return l.a.createElement("button",{className:t,onClick:n,disabled:a,type:"button"},u)}),C=n(23),_=(n(19),function(e){Object(p.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).validateForm=function(e){var t=a.state,n=t.category,l=t.value;return n.length>0&&!l.find((function(t){return 0===t.value.length&&t.id!==e}))},a.handleCategoryInputChange=function(e){var t=e.length>0&&!a.state.value.find((function(e){return 0===e.value.length}));a.setState({category:e,isFormValid:t})},a.handleValueInputChange=function(e,t){var n=a.validateForm(t)&&e.length>0;a.setState((function(a){return a.value.find((function(e){return e.id===t})).value=e,{value:Object(o.a)(a.value),isFormValid:n}}))},a.handleSingleValueInputChange=function(e){a.setState({singleValue:e,isFormValid:e.length>0})},a.addNewValueInput=function(){a.setState((function(e){return{value:[].concat(Object(o.a)(e.value),[{id:Object(C.a)(),value:""}]),isFormValid:!1}}))},a.removeValue=function(e){var t=a.validateForm(e);a.setState((function(n){return{value:n.value.filter((function(t){return t.id!==e})),isFormValid:t}}))},a.handlePopupSubmit=function(e){e.preventDefault();var t=a.state,n=t.category,l=t.value,u=t.singleValue,r=a.props,o=r.onPopupSubmit,i=r.editedCellId;i?o({id:Object(C.a)(),value:u},i):o({id:Object(C.a)(),category:n,value:l})},a.state={category:"",value:[{id:Object(C.a)(),value:""}],singleValue:"",isFormValid:!1},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.category,a=t.value,u=t.singleValue,r=t.isFormValid,o=this.props,i=o.onPopupCancel,c=o.renderButton,d=o.editedCellId,s=d?"Add Value":"Add Cell",p=r?"popup":"disabled",m=f()("Popup__button Popup__button--submit",{"Popup__button--disabled":!r});return l.a.createElement("div",{className:"Popup"},l.a.createElement("form",{className:"Popup__form",onSubmit:this.handlePopupSubmit},l.a.createElement("h2",{className:"Popup__heading"},s),d?l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{htmlFor:"popupSingleValue",className:"Popup__label"},"New Value:"),l.a.createElement("input",{id:"popupSingleValue",type:"text",className:"Popup__input",value:u,onChange:function(t){return e.handleSingleValueInputChange(t.target.value)},autoFocus:!0})):l.a.createElement(l.a.Fragment,null,l.a.createElement("label",{htmlFor:"popupCategory",className:"Popup__label"},"Category:"),l.a.createElement("input",{id:"popupCategory",type:"text",className:"Popup__input",value:n,onChange:function(t){return e.handleCategoryInputChange(t.target.value)},autoFocus:!0}),l.a.createElement("label",{htmlFor:"popupValue",className:"Popup__label"},"Value:"),a.map((function(t,n){return l.a.createElement(l.a.Fragment,{key:t.id},l.a.createElement("input",{key:t.id,id:0===n?"popupValue":t.id,type:"text",className:"Popup__input Popup__input--value",value:t.content,onChange:function(n){return e.handleValueInputChange(n.target.value,t.id)}}),0===n?c("add",p,null,e.addNewValueInput):c("remove","popup",null,(function(){return e.removeValue(t.id)})))}))),l.a.createElement("button",{type:"submit",disabled:!r,className:m},"Add"),l.a.createElement("button",{type:"button",className:"Popup__button Popup__button--cancel",onClick:i},"Cancel")))}}]),n}(a.Component)),P=(n(20),function(e){Object(p.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).togglePopup=function(e,t){a.setState((function(n){var a;return a={},Object(i.a)(a,"isAddNew".concat(e,"Popup"),!n["isAddNew".concat(e,"Popup")]),Object(i.a)(a,"editedCellId",t||null),a}))},a.addCell=function(e){a.setState((function(t){return{cells:[].concat(Object(o.a)(t.cells),[e])}})),a.togglePopup("Cell")},a.addValue=function(e,t){var n=a.state.cells.find((function(e){return e.id===t}));n.value=[].concat(Object(o.a)(n.value),[e]),a.setState((function(e){return{cells:Object(o.a)(e.cells)}})),a.togglePopup("Value")},a.removeCell=function(e){a.setState((function(t){return{cells:t.cells.filter((function(t){return t.id!==e}))}}))},a.removeValue=function(e,t){var n=a.state.cells.find((function(t){return t.id===e}));n.value=n.value.filter((function(e){return e.id!==t})),a.setState((function(e){return{cells:Object(o.a)(e.cells)}}))},a.setEditedCellId=function(e){a.setState({editedCellId:e})},a.renderButton=function(e,t,n,u){var r="main"===t,o="disabled"===t,i=f()("Button","Button--".concat(e),{"Button--main":r&&"add"===e,"Button--absolute":r&&!("remove"!==e||!r)&&a.state.cells.find((function(e){return e.id===n})).value.length>1&&"remove"===e,"Button--popup":"popup"===t,"Button--disabled":"disabled"===t}),c=u||("add"===e?r?function(){return a.togglePopup("Cell")}:function(){return a.togglePopup("Value",t)}:r?function(){return a.removeCell(n)}:function(){return a.removeValue(t,n)});return l.a.createElement(b,{buttonClass:i,onButtonClick:c,isDisabled:o},l.a.createElement("svg",{className:"Button__svg",viewBox:"0 0 40 40",xmlns:"http://www.w3.org/2000/svg"},"add"===e?l.a.createElement("polyline",{points:"0,15 0,25 15,25 15,40 25,40 25,25 40,25 40,15 25,15 25,0 15,0 15,15"}):l.a.createElement("rect",{x:"0",y:"12.5",width:"40",height:"15"})))},a.renderCell=function(e,t){var n=a.state.cells,u="main"===t,r=u&&n.find((function(t){return t.id===e})).value.length>1,o=n.find((function(n){return r||u?n.id===e:n.id===t})),i=o.category,c=(r?o:u?o.value[0]:o.value.find((function(t){return t.id===e}))).value;return l.a.createElement(g,{key:e,id:e,parentId:t,renderButton:a.renderButton},r?l.a.createElement(h,{parentName:i,parentId:e,childNodes:c,renderCell:a.renderCell,renderButton:a.renderButton}):l.a.createElement("h3",{className:"Cell__heading"},u?"".concat(i," ").concat(c):c))},a.state={cells:v,isAddNewCellPopup:!1,isAddNewValuePopup:!1,editedCellId:null},a}return Object(d.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isAddNewCellPopup,a=t.isAddNewValuePopup,u=t.cells,r=t.editedCellId;return l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App__header"},l.a.createElement("h1",null,"Nested Cells")),l.a.createElement(h,{parentName:"People",parentId:"main",childNodes:u,renderCell:this.renderCell,renderButton:this.renderButton}),n&&l.a.createElement(_,{onPopupCancel:function(){return e.togglePopup("Cell")},onPopupSubmit:this.addCell,renderButton:this.renderButton}),a&&l.a.createElement(_,{editedCellId:r,onPopupCancel:function(){return e.togglePopup("Value")},onPopupSubmit:this.addValue,renderButton:this.renderButton}))}}]),n}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[10,1,2]]]);
//# sourceMappingURL=main.773e1609.chunk.js.map